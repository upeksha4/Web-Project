/*!
 * jGallery v1.4.0
 * http://jgallery.jakubkowalczyk.pl/
 *
 * Released under the MIT license
 *
 * Date: 2014-10-23
 */
(function(f){var k={autostart:true,autostartAtImage:1,autostartAtAlbum:1,backgroundColor:"#fff",browserHistory:true,canChangeMode:true,canClose:false,canMinimalizeThumbnails:true,canZoom:true,disabledOnIE8AndOlder:true,draggableZoom:true,height:"600px",hideThumbnailsOnInit:false,mode:"standard",preloadAll:false,reloadThumbnails:true,slideshow:true,slideshowAutostart:false,slideshowCanRandom:true,slideshowInterval:"8s",slideshowRandom:false,textColor:"#000",thumbnails:true,thumbHeight:75,thumbHeightOnFullScreen:100,thumbnailsFullScreen:true,thumbnailsPosition:"bottom",thumbType:"image",thumbWidth:75,thumbWidthOnFullScreen:100,title:true,titleExpanded:false,tooltipClose:"Close",tooltipFullScreen:"Full screen",tooltipRandom:"Random",tooltips:true,tooltipSeeAllPhotos:"See all photos",tooltipSeeOtherAlbums:"See other albums",tooltipSlideshow:"Slideshow",tooltipToggleThumbnails:"Toggle thumbnails",tooltipZoom:"Zoom",transition:"moveToRight_moveFromLeft",transitionBackward:"auto",transitionCols:1,transitionDuration:"0.7s",transitionRows:1,transitionTimingFunction:"cubic-bezier(0,1,1,1)",transitionWaveDirection:"forward",width:"100%",zoomSize:"fit",afterLoadPhoto:function(){},beforeLoadPhoto:function(){},closeGallery:function(){},initGallery:function(){},showGallery:function(){},showPhoto:function(){}};var t={};var w={};var B={width:"940px",height:"360px",canZoom:false,draggableZoom:false,browserHistory:false,thumbnailsFullScreen:false,thumbType:"square",thumbWidth:20,thumbHeight:20,canMinimalizeThumbnails:false,transition:"rotateCubeRightOut_rotateCubeRightIn",transitionBackward:"rotateCubeRightOut_rotateCubeRightIn",transitionCols:6,transitionRows:1,slideshow:true,slideshowAutostart:true,zoomSize:"fill"};var a={autostart:true,canClose:false,zoomSize:"fill",canChangeMode:false};var x={moveToLeft_moveFromRight:["pt-page-moveToLeft","pt-page-moveFromRight"],moveToRight_moveFromLeft:["pt-page-moveToRight","pt-page-moveFromLeft"],moveToTop_moveFromBottom:["pt-page-moveToTop","pt-page-moveFromBottom"],moveToBottom_moveFromTop:["pt-page-moveToBottom","pt-page-moveFromTop"],fade_moveFromRight:["pt-page-fade","pt-page-moveFromRight pt-page-ontop"],fade_moveFromLeft:["pt-page-fade","pt-page-moveFromLeft pt-page-ontop"],fade_moveFromBottom:["pt-page-fade","pt-page-moveFromBottom pt-page-ontop"],fade_moveFromTop:["pt-page-fade","pt-page-moveFromTop pt-page-ontop"],moveToLeftFade_moveFromRightFade:["pt-page-moveToLeftFade","pt-page-moveFromRightFade"],moveToRightFade_moveFromLeftFade:["pt-page-moveToRightFade","pt-page-moveFromLeftFade"],moveToTopFade_moveFromBottomFade:["pt-page-moveToTopFade","pt-page-moveFromBottomFade"],moveToBottomFade_moveFromTopFade:["pt-page-moveToBottomFade","pt-page-moveFromTopFade"],moveToLeftEasing_moveFromRight:["pt-page-moveToLeftEasing pt-page-ontop","pt-page-moveFromRight"],moveToRightEasing_moveFromLeft:["pt-page-moveToRightEasing pt-page-ontop","pt-page-moveFromLeft"],moveToTopEasing_moveFromBottom:["pt-page-moveToTopEasing pt-page-ontop","pt-page-moveFromBottom"],moveToBottomEasing_moveFromTop:["pt-page-moveToBottomEasing pt-page-ontop","pt-page-moveFromTop"],scaleDown_moveFromRight:["pt-page-scaleDown","pt-page-moveFromRight pt-page-ontop"],scaleDown_moveFromLeft:["pt-page-scaleDown","pt-page-moveFromLeft pt-page-ontop"],scaleDown_moveFromBottom:["pt-page-scaleDown","pt-page-moveFromBottom pt-page-ontop"],scaleDown_moveFromTop:["pt-page-scaleDown","pt-page-moveFromTop pt-page-ontop"],scaleDown_scaleUpDown:["pt-page-scaleDown","pt-page-scaleUpDown pt-page-delay300"],scaleDownUp_scaleUp:["pt-page-scaleDownUp","pt-page-scaleUp pt-page-delay300"],moveToLeft_scaleUp:["pt-page-moveToLeft pt-page-ontop","pt-page-scaleUp"],moveToRight_scaleUp:["pt-page-moveToRight pt-page-ontop","pt-page-scaleUp"],moveToTop_scaleUp:["pt-page-moveToTop pt-page-ontop","pt-page-scaleUp"],moveToBottom_scaleUp:["pt-page-moveToBottom pt-page-ontop","pt-page-scaleUp"],scaleDownCenter_scaleUpCenter:["pt-page-scaleDownCenter","pt-page-scaleUpCenter pt-page-delay400"],rotateRightSideFirst_moveFromRight:["pt-page-rotateRightSideFirst","pt-page-moveFromRight pt-page-delay200 pt-page-ontop"],rotateLeftSideFirst_moveFromLeft:["pt-page-rotateLeftSideFirst","pt-page-moveFromLeft pt-page-delay200 pt-page-ontop"],rotateTopSideFirst_moveFromTop:["pt-page-rotateTopSideFirst","pt-page-moveFromTop pt-page-delay200 pt-page-ontop"],rotateBottomSideFirst_moveFromBottom:["pt-page-rotateBottomSideFirst","pt-page-moveFromBottom pt-page-delay200 pt-page-ontop"],flipOutRight_flipInLeft:["pt-page-flipOutRight","pt-page-flipInLeft pt-page-delay500"],flipOutLeft_flipInRight:["pt-page-flipOutLeft","pt-page-flipInRight pt-page-delay500"],flipOutTop_flipInBottom:["pt-page-flipOutTop","pt-page-flipInBottom pt-page-delay500"],flipOutBottom_flipInTop:["pt-page-flipOutBottom","pt-page-flipInTop pt-page-delay500"],rotateFall_scaleUp:["pt-page-rotateFall pt-page-ontop","pt-page-scaleUp"],rotateOutNewspaper_rotateInNewspaper:["pt-page-rotateOutNewspaper","pt-page-rotateInNewspaper pt-page-delay500"],rotatePushLeft_moveFromRight:["pt-page-rotatePushLeft","pt-page-moveFromRight"],rotatePushRight_moveFromLeft:["pt-page-rotatePushRight","pt-page-moveFromLeft"],rotatePushTop_moveFromBottom:["pt-page-rotatePushTop","pt-page-moveFromBottom"],rotatePushBottom_moveFromTop:["pt-page-rotatePushBottom","pt-page-moveFromTop"],rotatePushLeft_rotatePullRight:["pt-page-rotatePushLeft","pt-page-rotatePullRight pt-page-delay180"],rotatePushRight_rotatePullLeft:["pt-page-rotatePushRight","pt-page-rotatePullLeft pt-page-delay180"],rotatePushTop_rotatePullBottom:["pt-page-rotatePushTop","pt-page-rotatePullBottom pt-page-delay180"],rotatePushBottom_page:["pt-page-rotatePushBottom","pt-page-rotatePullTop pt-page-delay180"],rotateFoldLeft_moveFromRightFade:["pt-page-rotateFoldLeft","pt-page-moveFromRightFade"],rotateFoldRight_moveFromLeftFade:["pt-page-rotateFoldRight","pt-page-moveFromLeftFade"],rotateFoldTop_moveFromBottomFade:["pt-page-rotateFoldTop","pt-page-moveFromBottomFade"],rotateFoldBottom_moveFromTopFade:["pt-page-rotateFoldBottom","pt-page-moveFromTopFade"],moveToRightFade_rotateUnfoldLeft:["pt-page-moveToRightFade","pt-page-rotateUnfoldLeft"],moveToLeftFade_rotateUnfoldRight:["pt-page-moveToLeftFade","pt-page-rotateUnfoldRight"],moveToBottomFade_rotateUnfoldTop:["pt-page-moveToBottomFade","pt-page-rotateUnfoldTop"],moveToTopFade_rotateUnfoldBottom:["pt-page-moveToTopFade","pt-page-rotateUnfoldBottom"],rotateRoomLeftOut_rotateRoomLeftIn:["pt-page-rotateRoomLeftOut pt-page-ontop","pt-page-rotateRoomLeftIn"],rotateRoomRightOut_rotateRoomRightIn:["pt-page-rotateRoomRightOut pt-page-ontop","pt-page-rotateRoomRightIn"],rotateRoomTopOut_rotateRoomTopIn:["pt-page-rotateRoomTopOut pt-page-ontop","pt-page-rotateRoomTopIn"],rotateRoomBottomOut_rotateRoomBottomIn:["pt-page-rotateRoomBottomOut pt-page-ontop","pt-page-rotateRoomBottomIn"],rotateCubeLeftOut_rotateCubeLeftIn:["pt-page-rotateCubeLeftOut pt-page-ontop","pt-page-rotateCubeLeftIn"],rotateCubeRightOut_rotateCubeRightIn:["pt-page-rotateCubeRightOut pt-page-ontop","pt-page-rotateCubeRightIn"],rotateCubeTopOut_rotateCubeTopIn:["pt-page-rotateCubeTopOut pt-page-ontop","pt-page-rotateCubeTopIn"],rotateCubeBottomOut_rotateCubeBottomIn:["pt-page-rotateCubeBottomOut pt-page-ontop","pt-page-rotateCubeBottomIn"],rotateCarouselLeftOut_rotateCarouselLeftIn:["pt-page-rotateCarouselLeftOut pt-page-ontop","pt-page-rotateCarouselLeftIn"],rotateCarouselRightOut_rotateCarouselRightIn:["pt-page-rotateCarouselRightOut pt-page-ontop","pt-page-rotateCarouselRightIn"],rotateCarouselTopOut_rotateCarouselTopIn:["pt-page-rotateCarouselTopOut pt-page-ontop","pt-page-rotateCarouselTopIn"],rotateCarouselBottomOut_rotateCarouselBottomIn:["pt-page-rotateCarouselBottomOut pt-page-ontop","pt-page-rotateCarouselBottomIn"],rotateSidesOut_rotateSidesInDelay:["pt-page-rotateSidesOut","pt-page-rotateSidesIn pt-page-delay200"],rotateSlideOut_rotateSlideIn:["pt-page-rotateSlideOut","pt-page-rotateSlideIn"]};var C={moveToLeft_moveFromRight:"moveToRight_moveFromLeft",moveToRight_moveFromLeft:"moveToLeft_moveFromRight",moveToTop_moveFromBottom:"moveToBottom_moveFromTop",moveToBottom_moveFromTop:"moveToTop_moveFromBottom",fade_moveFromRight:"fade_moveFromLeft",fade_moveFromLeft:"fade_moveFromRight",fade_moveFromBottom:"fade_moveFromTop",fade_moveFromTop:"fade_moveFromBottom",moveToLeftFade_moveFromRightFade:"moveToRightFade_moveFromLeftFade",moveToRightFade_moveFromLeftFade:"moveToLeftFade_moveFromRightFade",moveToTopFade_moveFromBottomFade:"moveToBottomFade_moveFromTopFade",moveToBottomFade_moveFromTopFade:"moveToTopFade_moveFromBottomFade",moveToLeftEasing_moveFromRight:"moveToRightEasing_moveFromLeft",moveToRightEasing_moveFromLeft:"moveToLeftEasing_moveFromRight",moveToTopEasing_moveFromBottom:"moveToBottomEasing_moveFromTop",moveToBottomEasing_moveFromTop:"moveToTopEasing_moveFromBottom",scaleDown_moveFromRight:"scaleDown_moveFromLeft",scaleDown_moveFromLeft:"scaleDown_moveFromRight",scaleDown_moveFromBottom:"scaleDown_moveFromTop",scaleDown_moveFromTop:"scaleDown_moveFromBottom",scaleDown_scaleUpDown:"scaleDownUp_scaleUp",scaleDownUp_scaleUp:"scaleDown_scaleUpDown",moveToLeft_scaleUp:"moveToRight_scaleUp",moveToRight_scaleUp:"moveToLeft_scaleUp",moveToTop_scaleUp:"moveToBottom_scaleUp",moveToBottom_scaleUp:"moveToTop_scaleUp",scaleDownCenter_scaleUpCenter:"scaleDownCenter_scaleUpCenter",rotateRightSideFirst_moveFromRight:"rotateLeftSideFirst_moveFromLeft",rotateLeftSideFirst_moveFromLeft:"rotateRightSideFirst_moveFromRight",rotateTopSideFirst_moveFromTop:"rotateBottomSideFirst_moveFromBottom",rotateBottomSideFirst_moveFromBottom:"rotateTopSideFirst_moveFromTop",flipOutRight_flipInLeft:"flipOutLeft_flipInRight",flipOutLeft_flipInRight:"flipOutRight_flipInLeft",flipOutTop_flipInBottom:"flipOutBottom_flipInTop",flipOutBottom_flipInTop:"flipOutTop_flipInBottom",rotateFall_scaleUp:"rotateFall_scaleUp",rotateOutNewspaper_rotateInNewspaper:"rotateOutNewspaper_rotateInNewspaper",rotatePushLeft_moveFromRight:"rotatePushRight_moveFromLeft",rotatePushRight_moveFromLeft:"rotatePushLeft_moveFromRight",rotatePushTop_moveFromBottom:"rotatePushBottom_moveFromTop",rotatePushBottom_moveFromTop:"rotatePushTop_moveFromBottom",rotatePushLeft_rotatePullRight:"rotatePushRight_rotatePullLeft",rotatePushRight_rotatePullLeft:"rotatePushLeft_rotatePullRight",rotatePushTop_rotatePullBottom:"rotatePushTop_rotatePullBottom",rotatePushBottom_page:"rotatePushBottom_page",rotateFoldLeft_moveFromRightFade:"rotateFoldRight_moveFromLeftFade",rotateFoldRight_moveFromLeftFade:"rotateFoldLeft_moveFromRightFade",rotateFoldTop_moveFromBottomFade:"rotateFoldBottom_moveFromTopFade",rotateFoldBottom_moveFromTopFade:"rotateFoldTop_moveFromBottomFade",moveToRightFade_rotateUnfoldLeft:"moveToLeftFade_rotateUnfoldRight",moveToLeftFade_rotateUnfoldRight:"moveToRightFade_rotateUnfoldLeft",moveToBottomFade_rotateUnfoldTop:"moveToTopFade_rotateUnfoldBottom",moveToTopFade_rotateUnfoldBottom:"moveToBottomFade_rotateUnfoldTop",rotateRoomLeftOut_rotateRoomLeftIn:"rotateRoomRightOut_rotateRoomRightIn",rotateRoomRightOut_rotateRoomRightIn:"rotateRoomLeftOut_rotateRoomLeftIn",rotateRoomTopOut_rotateRoomTopIn:"rotateRoomBottomOut_rotateRoomBottomIn",rotateRoomBottomOut_rotateRoomBottomIn:"rotateRoomTopOut_rotateRoomTopIn",rotateCubeLeftOut_rotateCubeLeftIn:"rotateCubeRightOut_rotateCubeRightIn",rotateCubeRightOut_rotateCubeRightIn:"rotateCubeLeftOut_rotateCubeLeftIn",rotateCubeTopOut_rotateCubeTopIn:"rotateCubeBottomOut_rotateCubeBottomIn",rotateCubeBottomOut_rotateCubeBottomIn:"rotateCubeTopOut_rotateCubeTopIn",rotateCarouselLeftOut_rotateCarouselLeftIn:"rotateCarouselRightOut_rotateCarouselRightIn",rotateCarouselRightOut_rotateCarouselRightIn:"rotateCarouselLeftOut_rotateCarouselLeftIn",rotateCarouselTopOut_rotateCarouselTopIn:"rotateCarouselBottomOut_rotateCarouselBottomIn",rotateCarouselBottomOut_rotateCarouselBottomIn:"rotateCarouselTopOut_rotateCarouselTopIn",rotateSidesOut_rotateSidesInDelay:"rotateSidesOut_rotateSidesInDelay",rotateSlideOut_rotateSlideIn:"rotateSlideOut_rotateSlideIn"};var b=[];var z=[""];var y=[];f.each(x,function(D,E){y.push(E)});var l;var p;var r=f("html");var q;f(function(){l=f("head");p=f("title");q=f("body")});var o=f(window);var c=0;var h=function(E,D){this.intJgalleryId=D;this.$element=E};h.prototype={clear:function(){this.$element.stop(false,true).css({width:0});return this},start:function(F,G){var E=parseInt(b[this.intJgalleryId].slideshowInterval)*1000;var D=this.$element;D.animate({width:F},E-E*(D.width()/D.parent().width()),"linear",G);return this},pause:function(){this.$element.stop();return this}};var m=function(E,D){this.$element=E;this.jGallery=D;this.$title=this.$element.find(".title")};m.prototype={bindEvents:function(E){var D=this;this.getElement().on({click:function(F){D.menuToggle();F.stopPropagation()}});this.getItemsOfMenu().on({click:function(){var F=f(this);if(F.is(".active")){return}E.thumbnails.setActiveAlbum(E.thumbnails.$albums.filter('[data-jgallery-album-title="'+F.attr("data-jgallery-album-title")+'"]'))}});r.on("click",function(){D.menuHide()})},setTitle:function(D){this.$title.html(D)},getTitle:function(){return this.$title.html()},getListOfAlbums:function(){return this.getElement().find(".menu")},getElement:function(){return this.$element},getItemsOfMenu:function(){return this.getListOfAlbums().find(".item")},appendToMenu:function(D){this.getListOfAlbums().append(D)},menuToggle:function(){this.getElement().toggleClass("active")},menuHide:function(){this.getElement().removeClass("active")},clearMenu:function(){this.getListOfAlbums().html("")},refreshMenuHeight:function(){this.getListOfAlbums().css("max-height",this.jGallery.zoom.$container.outerHeight()-8)}};var e=function(E,D){this.options=f.extend({},{thumbsHidden:true},D);this.jGallery=E;this.$element=E.$this;this.booIsAlbums=E.booIsAlbums;this.$tmp;this.intI=1;this.intJ=1;this.intNo;this.$thumbnailsContainerInner=this.jGallery.$jgallery.find(".jgallery-thumbnails .jgallery-container-inner");this.start()};e.prototype={start:function(){var E=this;var D=this.jGallery.isSlider()?".album:has(img)":".album:has(a:has(img))";f("body").append('<div id="jGalleryTmp" style="position: absolute; top: 0; left: 0; width: 0; height: 0; z-index: -1; overflow: hidden;">'+this.$element.html()+"</div>");this.$tmp=f("#jGalleryTmp");this.$thumbnailsContainerInner.html("");if(this.booIsAlbums){this.$tmp.find(D).each(function(){E.insertAlbum(f(this))})}else{this.insertImages(this.$tmp,this.$thumbnailsContainerInner)}this.$tmp.remove()},insertAlbum:function(E){var D=E.is("[data-jgallery-album-title]")?E.attr("data-jgallery-album-title"):"Album "+this.intJ;var F=this.$thumbnailsContainerInner.append('<div class="album" data-jgallery-album-title="'+D+'"></div>').children(":last-child");if(this.intJ===1){F.addClass("active")}this.insertImages(E,F);this.intJ++},insertImages:function(F,G){var E=this;var D=this.jGallery.isSlider()?"img":"a:has(img)";this.intNo=1;F.find(D).each(function(){E.insertImage(f(this),G)})},insertImage:function(D,E){if(D.is("a")){E.append('<a href="'+D.attr("href")+'">'+this.generateImgTag(D.find("img").eq(0)).outerHtml()+"</a>");if(this.options.thumbsHidden){E.children(":last-child").addClass("hidden")}}else{if(D.is("img")){E.append(f('<a href="'+D.attr("src")+'">'+this.generateImgTag(D).outerHtml()+"</a>"))}}E.children(":last-child").attr("data-jgallery-photo-id",this.intI++).attr("data-jgallery-number",this.intNo++)},generateImgTag:function(D){var E=f('<img src="'+D.attr("src")+'" />');if(D.is("[alt]")){E.attr("alt",D.attr("alt"))}if(D.is("[data-jgallery-bg-color]")){E.attr("data-jgallery-bg-color",D.attr("data-jgallery-bg-color"))}if(D.is("[data-jgallery-text-color]")){E.attr("data-jgallery-text-color",D.attr("data-jgallery-text-color"))}return E}};var j=function(D){this.$element=D.$element.find(".jgallery-thumbnails");this.$a=this.getElement().find("a");this.$img=this.getElement().find("img");this.$container=this.getElement().find(".jgallery-container");this.$albums=this.getElement().find(".album").length?this.getElement().find(".album"):this.getElement().find(".jgallery-container-inner").addClass("active");this.$btnNext=this.getElement().children(".next");this.$btnPrev=this.getElement().children(".prev");this.intJgalleryId=D.$element.attr("data-jgallery-id");this.isJgalleryInitialized=D.$element.is("[data-jgallery-id]");this.zoom=D.zoom;this.$iconToggleThumbsVisibility=this.zoom.$container.find(".minimalize-thumbnails");this.jGallery=D};j.prototype={getElement:function(){return this.$element},init:function(){this.getElement().removeClass("square number images jgallery-thumbnails-left jgallery-thumbnails-right jgallery-thumbnails-top jgallery-thumbnails-bottom jgallery-thumbnails-horizontal jgallery-thumbnails-vertical");this.getElement().addClass("jgallery-thumbnails-"+b[this.intJgalleryId].thumbnailsPosition);if(this.isVertical()){this.getElement().addClass("jgallery-thumbnails-vertical")}if(this.isHorizontal()){this.getElement().addClass("jgallery-thumbnails-horizontal")}if(b[this.intJgalleryId].thumbType==="image"){this._initImages()}if(b[this.intJgalleryId].thumbType==="square"){this._initSquare()}if(b[this.intJgalleryId].thumbType==="number"){this._initNumber()}},show:function(){var D=this;if(!this.getElement().is(".hidden")){return}this.getElement().removeClass("hidden");if(!this.getElement().is(".loaded")){this.getElement().jLoader({start:function(){},success:function(){D._showNextThumb();D.$a.parent(".album:not(.active)").children(".hidden").removeClass("hidden");D.getElement().addClass("loaded")}})}else{this._showNextThumb();this.$a.parent(".album:not(.active)").children(".hidden").removeClass("hidden")}this.$iconToggleThumbsVisibility.removeClass("inactive")},showThumbsForActiveAlbum:function(){this.$a.addClass("hidden");this._showNextThumb()},hide:function(D){D=f.extend({hideEachThumb:true},D);this.getElement().addClass("hidden");if(D.hideEachThumb){this.$a.addClass("hidden")}this.$iconToggleThumbsVisibility.addClass("inactive")},toggle:function(){this.getElement().is(".hidden")?this.show():this.hide({hideEachThumb:false})},setActiveThumb:function(E){var D=E.find("img");var F=this.$albums.filter(".active");var E=F.find('img[src="'+D.attr("src")+'"]').parent("a").eq(0);this.getElement().find("a").removeClass("active");E.addClass("active");if(F.find("a.active").length===0){F.find("a:first-child").eq(0).addClass("active")}this.center(E)},isHorizontal:function(){return b[this.intJgalleryId].thumbnailsPosition==="top"||b[this.intJgalleryId].thumbnailsPosition==="bottom"},isVertical:function(){return b[this.intJgalleryId].thumbnailsPosition==="left"||b[this.intJgalleryId].thumbnailsPosition==="right"},isFullScreen:function(){return this.getElement().is(".full-screen")},refreshNavigation:function(){if(this.isVertical()||this.isFullScreen()){this._refreshVerticalNavigation()}else{if(this.isHorizontal()){this._refreshHorizontalNavigation()}}},center:function(D){if(this.isHorizontal()){this._horizontalCenter(D)}if(this.isVertical()){this._verticalCenter(D)}},reload:function(){this.$a=this.getElement().find("a");this.$img=this.getElement().find("img");this.$albums=this.getElement().find(".album").length?this.getElement().find(".album"):this.getElement().find(".jgallery-container-inner");this.zoom.showPhoto(this.$albums.find("a").eq(0))},bindEvents:function(){var D=this;this.$btnNext.on("click",function(){D._scrollToNext()});this.$btnPrev.on("click",function(){D._scrollToPrev()});this.zoom.$container.find(".full-screen").on({click:function(){D.zoom.slideshowPause();D.changeViewToFullScreen()}});this.getElement().find(".jgallery-close").on({click:function(){D.changeViewToBar();D.zoom.refreshSize()}})},changeViewToBar:function(){this.getElement().removeClass("full-screen");if(this.isHorizontal()){this.getElement().addClass("jgallery-thumbnails-horizontal").removeClass("jgallery-thumbnails-vertical")}this.refreshNavigation()},changeViewToFullScreen:function(){this.getElement().addClass("full-screen");if(this.isHorizontal()){this.getElement().addClass("jgallery-thumbnails-vertical").removeClass("jgallery-thumbnails-horizontal")}this._refreshVerticalNavigation()},setActiveAlbum:function(D){if(!this.jGallery.booIsAlbums||D.is(".active")){return}this.$albums.not(D.get(0)).removeClass("active");D.addClass("active");this.jGallery.iconChangeAlbum.getListOfAlbums().find(".item").removeClass("active").filter('[data-jgallery-album-title="'+D.attr("data-jgallery-album-title")+'"]').addClass("active");this.jGallery.iconChangeAlbum.setTitle(D.attr("data-jgallery-album-title"));this.refreshNavigation();if(!this.getElement().is(".full-screen")&&this.jGallery.$element.is(":visible")){this.zoom.showPhoto(D.find("a").eq(0))}this.showThumbsForActiveAlbum()},_initSquare:function(){this.getElement().addClass("square")},_initNumber:function(){this.getElement().addClass("number");this._initSquare()},_initImages:function(){var D=l.find('style.jgallery-thumbnails[data-jgallery-id="'+this.intJgalleryId+'"]');var E='                    .jgallery[data-jgallery-id="'+this.intJgalleryId+'"] .jgallery-thumbnails a {\n                        width: '+b[this.intJgalleryId].thumbWidth+"px;\n                        height: "+b[this.intJgalleryId].thumbHeight+"px;\n                        font-size: "+b[this.intJgalleryId].thumbHeight+'px;\n                    }\n                    .jgallery[data-jgallery-id="'+this.intJgalleryId+'"] .jgallery-thumbnails.full-screen a {\n                        width: '+b[this.intJgalleryId].thumbWidthOnFullScreen+"px;\n                        height: "+b[this.intJgalleryId].thumbHeightOnFullScreen+"px;\n                        font-size: "+b[this.intJgalleryId].thumbHeightOnFullScreen+'px;\n                    }\n                    .jgallery[data-jgallery-id="'+this.intJgalleryId+'"] .jgallery-thumbnails-horizontal {\n                        height: '+parseInt(b[this.intJgalleryId].thumbHeight+2)+'px;\n                    }\n                    .jgallery[data-jgallery-id="'+this.intJgalleryId+'"] .jgallery-thumbnails-vertical {\n                        width: '+parseInt(b[this.intJgalleryId].thumbWidth+2)+"px;\n                    }\n            ";this.getElement().addClass("images");D.length?D.html(E):l.append('                <style type="text/css" class="jgallery-thumbnails" data-jgallery-id="'+this.intJgalleryId+'">                    '+E+"                </style>            ");if(this.isHorizontal()){this.jGallery.zoom.$container.find(".minimalize-thumbnails").addClass("fa-ellipsis-h").removeClass("fa-ellipsis-v")}else{this.jGallery.zoom.$container.find(".minimalize-thumbnails").addClass("fa-ellipsis-v").removeClass("fa-ellipsis-h")}if(this.isJgalleryInitialized){return}this.hide()},_showNextThumb:function(){var D=this;var E=this.$a.parent(".active").children(".hidden").eq(0);setTimeout(function(){E.removeClass("hidden");if(E.length){D._showNextThumb()}},70)},_horizontalCenter:function(E){var D=this;if(E.length!==1){return}this.$container.stop(false,true).animate({scrollLeft:E.position().left-this.$container.scrollLeft()*-1-E.outerWidth()/-2-this.$container.outerWidth()/2},function(){D.refreshNavigation()})},_verticalCenter:function(E){var D=this;if(E.length!==1){return}this.$container.stop(false,true).animate({scrollTop:E.position().top-this.$container.scrollTop()*-1-E.outerHeight()/-2-this.$container.outerHeight()/2},function(){D.refreshNavigation()})},_refreshHorizontalNavigation:function(){var E=this.getElement().find("div.active");var D=b[this.intJgalleryId].thumbType==="image"?this.$a.outerWidth(true)*E.find("img").length:this.$a.outerWidth(true)*E.find("a").length;this.$container.scrollLeft()>0?this.$btnPrev.addClass("visible"):this.$btnPrev.removeClass("visible");D>this.$container.width()+this.$container.scrollLeft()?this.$btnNext.addClass("visible"):this.$btnNext.removeClass("visible")},_refreshVerticalNavigation:function(){this.$container.scrollTop()>0?this.$btnPrev.addClass("visible"):this.$btnPrev.removeClass("visible");this.$container.find(".jgallery-container-inner").height()>this.$container.height()+this.$container.scrollTop()?this.$btnNext.addClass("visible"):this.$btnNext.removeClass("visible")},_scrollToPrev:function(){var D=this;if(this.isVertical()||this.isFullScreen()){this.$container.stop(false,true).animate({scrollTop:"-="+o.height()*0.7},function(){D.refreshNavigation()})}else{if(this.isHorizontal()){this.$container.stop(false,true).animate({scrollLeft:"-="+o.width()*0.7},function(){D.refreshNavigation()})}}},_scrollToNext:function(){var D=this;if(this.isVertical()||this.isFullScreen()){this.$container.stop(false,true).animate({scrollTop:"+="+o.height()*0.7},function(){D.refreshNavigation()})}else{if(this.isHorizontal()){this.$container.stop(false,true).animate({scrollLeft:"+="+o.width()*0.7},function(){D.refreshNavigation()})}}}};var g=function(D){this.$container=D.$element.children(".zoom-container");this.$element=this.$container.children(".zoom");this.$title=this.$container.find(".nav-bottom > .title");this.$btnPrev=this.$container.children(".prev");this.$btnNext=this.$container.children(".next");this.$left=this.$container.find(".left");this.$right=this.$container.find(".right");this.thumbnails=D.thumbnails;this.$jGallery=D.$element;this.jGallery=D;this.$resize=this.$container.find(".resize");this.$dragNav=this.$container.find(".drag-nav");this.$dragNavCrop=f();this.$dragNavCropImg=f();this.$changeMode=this.$container.find(".fa.change-mode");this.$random=this.$container.find(".random");this.$slideshow=this.$container.find(".slideshow");this.intJGalleryId=this.$jGallery.attr("data-jgallery-id");this.booSlideshowPlayed=false;this.booLoadingInProgress=false;this.booLoadedAll=false;this.$title.on("click",function(){f(this).toggleClass("expanded")});this.update()};g.prototype={update:function(){var D=x[b[this.jGallery.intId].transition];this.$container.attr("data-size",b[this.jGallery.intId].zoomSize);this.$element.find(".pt-page").removeClass(b[this.jGallery.intId].hideEffect).removeClass(b[this.jGallery.intId].showEffect);if(typeof D!=="undefined"){b[this.jGallery.intId].hideEffect=D[0];b[this.jGallery.intId].showEffect=D[1]}this.initAdvancedAnimation()},initAdvancedAnimation:function(){if(typeof this.advancedAnimation==="undefined"){this.advancedAnimation=new d(this.$element)}this.advancedAnimation.setAnimationProperties({duration:b[this.jGallery.intId].transitionDuration,transitionTimingFunction:b[this.jGallery.intId].transitionTimingFunction});this.advancedAnimation.setDirection(b[this.jGallery.intId].transitionWaveDirection);this.advancedAnimation.setQuantityParts(b[this.jGallery.intId].transitionCols,b[this.jGallery.intId].transitionRows);this.advancedAnimation.setHideEffect(b[this.jGallery.intId].hideEffect);this.advancedAnimation.setShowEffect(b[this.jGallery.intId].showEffect)},setThumbnails:function(D){this.thumbnails=D},enableDrag:function(){if(!b[this.jGallery.intId].draggableZoom){return}var G=this;var I;var D;var F=function(M){var K=M.pageX;var J=M.pageY;var L=G.$element.find("img.active");I=L.css("margin-left");D=L.css("margin-top");G.$element.on({mousemove:function(N){H(N.pageX-K,N.pageY-J)},mouseleave:function(){E()}});if(b[G.jGallery.intId].zoomSize==="fill"){G.$dragNav.removeClass("hide").addClass("show")}H(0,0)};var E=function(){G.$element.off("mousemove");if(b[G.jGallery.intId].zoomSize==="fill"){G.$dragNav.removeClass("show").addClass("hide")}};var H=function(K,Q){var P=parseFloat(parseFloat(I)+K);var O=parseFloat(parseFloat(D)+Q);var M=G.$element.find("img.active");var N=M.eq(0);var L=M.eq(-1);var J=L.parent();if(N.position().left+P<0&&L.position().left+L.width()+P>J.outerWidth()){M.css({"margin-left":P});G.$dragNavCrop.css({left:-(N.position().left+P)/M.width()*100+"%"})}if(N.position().top+O<0&&L.position().top+L.height()+O>J.outerHeight()){M.css({"margin-top":O});G.$dragNavCrop.css({top:-(N.position().top+O)/M.height()*100+"%"})}G.$dragNavCropImg.css({"margin-left":-G.$dragNavCrop.position().left,"margin-top":-G.$dragNavCrop.position().top})};if(b[G.jGallery.intId].zoomSize==="original"){G.$dragNav.removeClass("hide").addClass("show")}this.refreshDragNavCropSize();this.$element.css("cursor","move").on({mousedown:function(J){J.preventDefault();F(J);G.slideshowPause()},mouseup:function(){E()}});this.$left.add(this.$right).hide()},disableDrag:function(){if(!b[this.jGallery.intId].draggableZoom){return}this.$dragNav.removeClass("show").addClass("hide");this.$element.css("cursor","default");this.$element.off();this.$left.add(this.$right).show()},refreshContainerSize:function(){var E=this.jGallery.isSlider()?0:this.$container.find(".nav-bottom").outerHeight();var D=!this.jGallery.isSlider()&&!this.thumbnails.getElement().is(".hidden");var F=D?b[this.intJGalleryId].thumbnailsPosition:"";this.$container.css({width:D&&this.thumbnails.isVertical()?this.$jGallery.width()-this.thumbnails.getElement().outerWidth(true):"auto",height:D&&this.thumbnails.isHorizontal()?this.$jGallery.height()-this.thumbnails.getElement().outerHeight(true)-E:this.$jGallery.height()-E,"margin-top":F==="top"?this.thumbnails.getElement().outerHeight(true):0,"margin-left":F==="left"?this.thumbnails.getElement().outerWidth(true):0,"margin-right":F==="right"?this.thumbnails.getElement().outerWidth(true):0});if(b[this.jGallery.intId].draggableZoom){this.refreshDragNavCropSize()}},refreshSize:function(){if(this.thumbnails.isFullScreen()){return}this.refreshContainerSize();if(b[this.intJGalleryId].zoomSize==="original"){this.original()}else{if(b[this.intJGalleryId].zoomSize==="fill"){this.fill()}else{this.fit()}}this.$element.addClass("visible")},refreshDragNavCropSize:function(){var E=this.$element.find("img.active");var D;var F;this.$dragNavCrop.css({width:this.$element.width()/E.width()*100+"%",height:this.$element.height()/E.height()*100+"%"});D=(this.$dragNav.width()-this.$dragNavCrop.width())/2;F=(this.$dragNav.height()-this.$dragNavCrop.height())/2;this.$dragNavCrop.css({left:D,top:F});if(this.$dragNavCropImg.length){this.$dragNavCropImg.css({"margin-left":-D,"margin-top":-F})}},changeSize:function(){if(b[this.jGallery.intId].zoomSize==="fit"){b[this.jGallery.intId].zoomSize="fill";this.fill()}else{if(b[this.jGallery.intId].zoomSize==="fill"){var D=this.$element.find("img.active").eq(0);if(this.$element.outerWidth().toString()===D.attr("data-width")){b[this.jGallery.intId].zoomSize="fit";this.fit()}else{b[this.jGallery.intId].zoomSize="original";this.original()}}else{if(b[this.jGallery.intId].zoomSize==="original"){b[this.jGallery.intId].zoomSize="fit";this.fit()}}}this.$container.attr("data-size",b[this.jGallery.intId].zoomSize)},original:function(){var D=this.$element.find("img.active");this.advancedAnimation.setPositionParts();this.setImgSizeForOriginal(D);this.setImgSizeForOriginal(this.$element.find(".pt-page.init img"));if(D.attr("data-width")<=this.$element.outerWidth()&&D.attr("data-height")<=this.$element.outerHeight()){this.$resize.addClass("fa-search-plus").removeClass("fa-search-minus");this.disableDrag()}else{this.$resize.addClass("fa-search-minus").removeClass("fa-search-plus");this.enableDrag()}},fit:function(){var D=this.$element.find("img.active").add(this.$element.find(".pt-page.init img"));this.advancedAnimation.setPositionParts();this.setImgSizeForFit(D.filter(".active"));this.setImgSizeForFit(D.filter(":not( .active )"));this.$resize.addClass("fa-search-plus").removeClass("fa-search-minus");this.disableDrag()},fill:function(){var D=this.$element.find("img.active");this.setImgSizeForFill(D);this.setImgSizeForFill(this.$element.find(".pt-page.init img"));this.advancedAnimation.setPositionParts();if(D.attr("data-width")>D.width()&&D.attr("data-height")>D.height()){this.$resize.addClass("fa-search-plus").removeClass("fa-search-minus")}else{this.$resize.addClass("fa-search-minus").removeClass("fa-search-plus")}this.enableDrag()},setImgSizeForOriginal:function(D){D.css({width:D.attr("data-width"),height:D.attr("data-height"),"min-width":0,"min-height":0,"max-width":"none","max-height":"none"});D.css({"margin-top":-D.height()/2,"margin-left":-D.width()/2})},setImgSizeForFit:function(E){var F=this.jGallery.isSlider()?0:this.$container.find(".nav-bottom").outerHeight();var D=!this.jGallery.isSlider()&&!this.thumbnails.getElement().is(".hidden");E.css({width:"auto",height:"auto","min-width":0,"min-height":0,"max-width":D&&this.thumbnails.isVertical()?this.$jGallery.width()-this.thumbnails.getElement().outerWidth(true):this.$jGallery.width(),"max-height":D&&this.thumbnails.isHorizontal()?this.$jGallery.height()-this.thumbnails.getElement().outerHeight(true)-F:this.$jGallery.height()-F});if(E.width()/E.height()/this.jGallery.getCanvasRatioWidthToHeight()<1){E.css({width:"auto",height:D&&this.thumbnails.isHorizontal()?this.$jGallery.height()-this.thumbnails.getElement().outerHeight(true)-F:this.$jGallery.height()-F})}else{E.css({width:D&&this.thumbnails.isVertical()?this.$jGallery.width()-this.thumbnails.getElement().outerWidth(true):this.$jGallery.width(),height:"auto"})}E.css({"margin-top":-E.height()/2,"margin-left":-E.width()/2})},setImgSizeForFill:function(E){var F=this.jGallery.isSlider()?0:this.$container.find(".nav-bottom").outerHeight();var D=!this.jGallery.isSlider()&&!this.thumbnails.getElement().is(".hidden");E.css({width:"auto",height:"auto","max-width":"none","max-height":"none","min-width":0,"min-height":0});if(E.width()/E.height()/this.jGallery.getCanvasRatioWidthToHeight()>1){E.css({width:"auto",height:D&&this.thumbnails.isHorizontal()?this.$jGallery.height()-this.thumbnails.getElement().outerHeight(true)-F:this.$jGallery.height()-F})}else{E.css({width:D&&this.thumbnails.isVertical()?this.$jGallery.width()-this.thumbnails.getElement().outerWidth(true):this.$jGallery.width(),height:"auto"})}E.css({"min-width":D&&this.thumbnails.isVertical()?this.$jGallery.width()-this.thumbnails.getElement().outerWidth(true):this.$jGallery.width(),"min-height":D&&this.thumbnails.isHorizontal()?this.$jGallery.height()-this.thumbnails.getElement().outerHeight(true)-F:this.$jGallery.height()-F});E.css({"margin-top":-E.height()/2,"margin-left":-E.width()/2})},isLoaded:function(D){return this.$element.find("img").filter('[src="'+D.attr("href")+'"]').length>0},refreshNav:function(){var D=this.thumbnails.getElement().find("div.active a.active");D.prev("a").length===1?this.$btnPrev.add(this.$container.children(".left")).removeClass("hidden"):this.$btnPrev.add(this.$container.children(".left")).addClass("hidden");D.next("a").length===1?this.$btnNext.add(this.$container.children(".right")).removeClass("hidden"):this.$btnNext.add(this.$container.children(".right")).addClass("hidden")},slideshowStop:function(){this.slideshowPause();this.jGallery.progress.clear()},slideshowPause:function(){this.jGallery.progress.pause();this.$slideshow.removeClass("fa-pause").addClass("fa-play");this.booSlideshowPlayed=false;if(b[this.jGallery.intId].slideshowCanRandom){this.$random.hide()}},slideshowPlay:function(){if(this.booLoadingInProgress||this.booSlideshowPlayed){return}this.booSlideshowPlayed=true;this.$slideshow.removeClass("fa-play").addClass("fa-pause");this.slideshowSetTimeout();if(b[this.jGallery.intId].slideshowCanRandom){this.$random.show()}},slideshowPlayPause:function(){this.$slideshow.is(".fa-play")?this.slideshowPlay():this.slideshowPause()},slideshowSetTimeout:function(){var D=this;this.jGallery.progress.start(this.$container.width(),function(){D.jGallery.progress.clear();b[D.jGallery.intId].slideshowRandom?D.showRandomPhoto():D.showNextPhotoLoop()})},slideshowRandomToggle:function(){if(b[this.jGallery.intId].slideshowRandom){this.$random.removeClass("active");b[this.jGallery.intId].slideshowRandom=false}else{this.$random.addClass("active");b[this.jGallery.intId].slideshowRandom=true}},showNextPhotoLoop:function(){var D=this.thumbnails.$a.filter(".active").next("a");if(D.length===0){D=this.thumbnails.$albums.filter(".active").find("a").eq(0)}this.showPhoto(D)},showRandomPhoto:function(){var D=this.thumbnails.$albums.filter(".active").find("a:not(.active)");this.showPhoto(D.eq(Math.floor(Math.random()*D.length)))},showPrevPhoto:function(){var D=this.thumbnails.$a.filter(".active").prev("a");if(D.length===1){this.showPhoto(D)}},showNextPhoto:function(){var D=this.thumbnails.$a.filter(".active").next("a");if(D.length===1){this.showPhoto(D)}},showPhotoInit:function(){this.jGallery.init()},showPhoto:function(H,F){var E=this;var I=H.children("img");var D;var K;var J;var G;if(!this.jGallery.initialized()){this.showPhotoInit()}if(this.booLoadingInProgress){return}this.booLoadingInProgress=true;G=b[this.jGallery.intId][H.nextAll(".active").length>0?"transitionBackward":"transition"];if(G==="random"){this.setRandomTransition()}else{if(G==="auto"){J=x[C[b[this.jGallery.intId]["transition"]]];this.advancedAnimation.setHideEffect(J[0]);this.advancedAnimation.setShowEffect(J[1])}else{J=x[G];this.advancedAnimation.setHideEffect(J[0]);this.advancedAnimation.setShowEffect(J[1])}}this.$element.find(".pt-page.init").remove();b[this.jGallery.intId].showPhoto();if(this.jGallery.$element.is(":not(:visible)")){this.jGallery.show()}this.thumbnails.changeViewToBar();if(this.jGallery.booIsAlbums){if(this.jGallery.iconChangeAlbum.getTitle()===""){K=H.parents(".album").eq(0).attr("data-jgallery-album-title");this.jGallery.iconChangeAlbum.setTitle(K);this.jGallery.iconChangeAlbum.$element.find('[data-jgallery-album-title="'+K+'"]').addClass("active");H.parents(".album").addClass("active").siblings(".album").removeClass("active")}}this.thumbnails.setActiveAlbum(this.thumbnails.$albums.filter('[data-jgallery-album-title="'+H.parents("[data-jgallery-album-title]").attr("data-jgallery-album-title")+'"]'));this.thumbnails.setActiveThumb(H);if(this.$element.find("img.active").attr("src")===H.attr("href")){this.booLoadingInProgress=false;this.setJGalleryColoursForActiveThumb();return}this.refreshNav();if(b[this.jGallery.intId].title){this.$title.addClass("after fade")}D=E.isLoaded(H);if(!D){if(b[E.jGallery.intId].preloadAll&&!E.booLoadedAll){this.appendAllPhotos()}else{this.appendPhoto(H)}}this.$element.find("img.active").addClass("prev-img");E.$container.find("img.active").removeClass("active");E.$container.find('[src="'+H.attr("href")+'"]').addClass("active");if(b[E.jGallery.intId].title&&I.is("[alt]")){E.$title.removeClass("after").addClass("before")}if(!D||(b[E.jGallery.intId].preloadAll&&!E.booLoadedAll)){E.booLoadedAll=true;E.$container.overlay({show:true,showLoader:true});b[E.jGallery.intId].beforeLoadPhoto();E.loadPhoto(E.$element,H,F)}else{E.showPhotoSuccess(I,F)}},appendPhoto:function(D){this.$element.find(".pt-part").append('                <div class="jgallery-container pt-page">                    <div class="pt-item"><img src="'+D.attr("href")+'" /></div>                </div>')},appendAllPhotos:function(){var D=this;if(!b[this.jGallery.intId].preloadAll){return}this.thumbnails.$a.each(function(){var E=f(this);if(!D.isLoaded(E)){D.$element.find(".pt-part").append('<div class="jgallery-container pt-page"><div class="pt-item"><img src="'+E.attr("href")+'" /></div></div>')}});this.appendInitPhoto(this.thumbnails.$a.eq(-1))},appendInitPhoto:function(D){if(D.length!==1){return}this.$element.find(".pt-part").append('                <div class="jgallery-container pt-page pt-page-current pt-page-ontop init" style="visibility: hidden;">                    <div class="pt-item"><img src="'+D.attr("href")+'" class="active loaded" /></div>                </div>')},loadPhoto:function(E,J,F){var D=this;var K=J.children("img");var H=0;var I=E.find(".pt-part").eq(0);var G=b[this.jGallery.intId].preloadAll?I:I.find("img.active");G.jLoader({interval:500,skip:".loaded",start:function(){if(b[D.jGallery.intId].preloadAll){D.$container.find(".overlay .imageLoaderPositionAbsolute:not(:has(.progress-value))").addClass("preloadAll").append('<span class="progress-value"></span>');D.$container.find(".progress-value").html("0")}else{D.$container.find(".overlay .imageLoaderPositionAbsolute:not(:has(.fa-spin))").append('<span class="fa fa-spin fa-spinner"></span>')}},success:function(){E.find("img").addClass("loaded");D.$container.overlay({hide:true,hideLoader:true});D.showPhotoSuccess(K,F)},progress:function(L){if(!b[D.jGallery.intId].preloadAll){return}H=L.percent;D.$container.find(".overlay .imageLoaderPositionAbsolute").find(".progress-value").html(H)}})},showPhotoSuccess:function(G,E){var F;var D=this.$element.find("img.active");E=f.extend({},{historyPushState:true},E);if(D.is(":not([data-width])")){F=new Image();F.src=D.attr("src");D.attr("data-width",F.width);D.attr("data-height",F.height)}if(b[this.jGallery.intId].title&&G.attr("alt")){this.$title.html(G.attr("alt")).removeClass("before").removeClass("after");this.jGallery.$element.addClass("has-title")}else{this.jGallery.$element.removeClass("has-title")}this.setJGalleryColoursForActiveThumb();this.$element.find(".pt-page.init").css({visibility:"visible"});this.$element.find("img.prev-img").removeClass("prev-img");this.advancedAnimation.show(D.eq(0).parent().parent(),{animation:this.$element.find(".pt-part").eq(0).find(".pt-page-current:not(.pt-page-prev)").length===1});this.refreshSize();this.thumbnails.refreshNavigation();if(this.booSlideshowPlayed){this.slideshowSetTimeout()}b[this.jGallery.intId].afterLoadPhoto();this.booLoadingInProgress=false;if(b[this.jGallery.intId].autostart&&b[this.jGallery.intId].slideshowAutostart&&b[this.jGallery.intId].slideshow){b[this.jGallery.intId].slideshowAutostart=false;this.slideshowPlay()}if(b[this.jGallery.intId].draggableZoom){this.$dragNav.html('<img src="'+D.attr("src")+'" class="bg">                    <div class="crop"><img src="'+D.attr("src")+'"></div>');this.$dragNavCrop=this.$dragNav.find(".crop");this.$dragNavCropImg=this.$dragNavCrop.find("img");this.refreshDragNavCropSize()}if(E.historyPushState&&b[this.jGallery.intId].browserHistory){u({path:D.attr("src")})}},showPhotoByPath:function(E){var D=this.thumbnails.$albums.filter(".active").find('a[href="'+E+'"]');if(D.length===0){D=this.thumbnails.$a.filter('a[href="'+E+'"]').eq(0)}if(D.length===0){return}this.showPhoto(D,{historyPushState:false})},setJGalleryColoursForActiveThumb:function(){var D=this.thumbnails.$a.filter(".active").find("img");this.jGallery.setColours({strBg:D.is("[data-jgallery-bg-color]")?D.attr("data-jgallery-bg-color"):b[this.jGallery.intId].backgroundColor,strText:D.is("[data-jgallery-bg-color]")?D.attr("data-jgallery-text-color"):b[this.jGallery.intId].textColor})},setTransition:function(D){b[this.jGallery.intId].hideEffect=x[D][0];b[this.jGallery.intId].showEffect=x[D][1];this.advancedAnimation.setHideEffect(b[this.jGallery.intId].hideEffect);this.advancedAnimation.setShowEffect(b[this.jGallery.intId].showEffect)},setRandomTransition:function(){var D;this.$element.find(".pt-page").removeClass(b[this.jGallery.intId].hideEffect).removeClass(b[this.jGallery.intId].showEffect);D=Math.floor((Math.random()*y.length));b[this.jGallery.intId].hideEffect=y[D][0];b[this.jGallery.intId].showEffect=y[D][1];this.advancedAnimation.setHideEffect(b[this.jGallery.intId].hideEffect);this.advancedAnimation.setShowEffect(b[this.jGallery.intId].showEffect)},unmarkActive:function(){this.$element.find("img.active").removeClass("active")},changeMode:function(){var D=b[this.jGallery.intId].mode;if(D==="slider"){return}if(D==="standard"){this.goToFullScreenMode()}else{if(D==="full-screen"){this.goToStandardMode()}}if(this.jGallery.iconChangeAlbum instanceof m){this.jGallery.iconChangeAlbum.refreshMenuHeight()}},goToFullScreenMode:function(){q.css({overflow:"hidden"});this.jGallery.$this.show();this.jGallery.$element.removeClass("jgallery-standard").addClass("jgallery-full-screen").css({width:"auto",height:"auto"});this.$changeMode.removeClass("fa-expand").addClass("fa-compress");b[this.jGallery.intId].mode="full-screen";this.jGallery.refreshDimensions()},goToStandardMode:function(){q.css({overflow:"visible"});this.jGallery.$this.hide();this.jGallery.$element.removeClass("jgallery-full-screen").addClass("jgallery-standard").css({width:b[this.jGallery.intId].width,height:b[this.jGallery.intId].height});this.$changeMode.removeClass("fa-compress").addClass("fa-expand");b[this.jGallery.intId].mode="standard";this.jGallery.refreshDimensions()}};var n=function(E){var D=this;this.booIsAlbums=E.find(".album:has(a:has(img))").length>1;this.intId=c;this.$this=E;if(b[this.intId].disabledOnIE8AndOlder&&v()){return}this.init();if(b[this.intId].browserHistory){this.browserHistory()}if(b[this.intId].autostart){this.autostart()}A();r.on({keydown:function(F){if(D.$element.is(":visible")){if(F.which===27){F.preventDefault();if(D.thumbnails.getElement().is(".full-screen")){D.thumbnails.changeViewToBar();D.zoom.refreshSize();return}D.hide()}if(F.which===37){F.preventDefault();D.zoom.showPrevPhoto()}if(F.which===39){F.preventDefault();D.zoom.showNextPhoto()}}}})};n.prototype={initialized:function(){return this.$this.is("[data-jgallery-id]")},update:function(D){b[this.intId]=this.initialized()?f.extend(b[this.intId],D):f.extend({},k,D);if(b[this.intId].disabledOnIE8AndOlder&&v()){return}this.booIsAlbums=this.$this.find(".album:has(a:has(img))").length>1;this.zoom.update();this.thumbnails.init();this.setUserOptions();if(b[this.intId].reloadThumbnails){this.reloadThumbnails()}this.refreshDimensions()},reloadThumbnails:function(){new e(this,{thumbsHidden:false});this.generateAlbumsDropdown();this.thumbnails.reload()},setVariables:function(){this.$element=f(".jgallery").filter('[data-jgallery-id="'+this.intId+'"]');this.progress=new h(this.$element.find(".zoom-container").children(".progress"),this.intId);this.zoom=new g(this);this.thumbnails=new j(this);this.zoom.setThumbnails(this.thumbnails)},show:function(){this.$this.hide();o.on("resize",{jGallery:this},this.windowOnResize);if(b[this.intId].mode==="full-screen"){this.bodyOverflowBeforeShow=q.css("overflow");q.css({overflow:"hidden"})}this.$element.not(":visible").removeClass("hidden").stop(false,true).fadeIn(500);this.zoom.refreshContainerSize();this.zoom.$title.removeClass("hidden");b[this.intId].showGallery();if(this.iconChangeAlbum instanceof m){this.iconChangeAlbum.refreshMenuHeight()}A()},hide:function(E){var D=this;if(!b[this.intId].canClose){return}E=f.extend({},{historyPushState:true},E);this.$element.filter(":visible").stop(false,true).addClass("hidden").fadeOut(500,function(){if(b[D.intId].mode==="full-screen"){q.css({overflow:D.bodyOverflowBeforeShow})}A()});this.zoom.booLoadingInProgress=false;clearTimeout(this.zoom.showPhotoTimeout);this.zoom.$title.addClass("hidden");this.zoom.$btnPrev.addClass("hidden");this.zoom.$btnNext.addClass("hidden");this.zoom.slideshowPause();this.zoom.advancedAnimation.hideActive();this.zoom.unmarkActive();o.off("resize",this.windowOnResize);this.$this.show();if(E.historyPushState&&b[this.intId].browserHistory){u()}b[this.intId].closeGallery()},autostart:function(){var D;var E;if(this.$element.is(":visible")){return}if(this.booIsAlbums){D=this.thumbnails.getElement().find(".album").eq(b[this.intId].autostartAtAlbum-1);if(D.length===0){D=this.thumbnails.getElement().find(".album").eq(0)}}else{D=this.thumbnails.getElement()}E=D.find("a").eq(b[this.intId].autostartAtImage-1);if(E.length===0){E=D.find("a").eq(0)}E.trigger("click")},browserHistory:function(){var D=this;var F=window.onpopstate;function E(){var G;if(!document.location.hash){return}G=document.location.hash.replace("#","");switch(G){case"":D.hide({historyPushState:false});break;default:D.zoom.showPhotoByPath(G)}}window.onpopstate=function(){if(typeof F==="function"){F()}E()};if(b[this.intId].autostart){E()}},generateAlbumsDropdown:function(){var D=this;this.$element.find(".change-album").remove();if(!this.booIsAlbums){return}this.zoom.$container.find(".nav-bottom > .icons").append('                <span class="fa fa-list-ul change-album jgallery-btn jgallery-btn-small" tooltip="'+b[D.intId].tooltipSeeOtherAlbums+'">                    <span class="menu jgallery-btn"></span>                    <span class="title"></span>                </span>            ');this.iconChangeAlbum=new m(D.zoom.$container.find(".change-album"),this);this.iconChangeAlbum.clearMenu();this.thumbnails.$albums.each(function(){var E=f(this).attr("data-jgallery-album-title");D.iconChangeAlbum.appendToMenu('<span class="item" data-jgallery-album-title="'+E+'">'+E+"</span>")});this.thumbnails.getElement().append(this.iconChangeAlbum.getElement().outerHtml());this.iconChangeAlbum=new m(this.iconChangeAlbum.getElement().add(this.thumbnails.getElement().children(":last-child")),this);this.iconChangeAlbum.bindEvents(this)},init:function(){var D=this;l.append('<style type="text/css" class="colours" data-jgallery-id="'+this.intId+'"></style>');b[this.intId].initGallery();this.$this.attr("data-jgallery-id",this.intId);this.generateHtml();new e(this);this.setVariables();this.thumbnails.init();this.thumbnails.getElement().append('<span class="fa fa-times jgallery-btn jgallery-close jgallery-btn-small"></span>');this.generateAlbumsDropdown();D.setUserOptions();if(b[D.intId].zoomSize==="fit"||b[D.intId].zoomSize==="original"){D.zoom.$resize.addClass("fa-search-plus")}if(b[D.intId].zoomSize==="fill"){D.zoom.$resize.addClass("fa-search-minus")}if(!i()){D.$element.addClass("text-shadow")}D.thumbnails.refreshNavigation();D.zoom.refreshNav();D.zoom.refreshSize();this.$this.on("click","a:has(img)",function(E){var F=f(this);E.preventDefault();D.zoom.showPhoto(F)});D.thumbnails.$element.on("click","a",function(E){var F=f(this);E.preventDefault();if(F.is(":not(.active)")){D.zoom.slideshowStop();D.zoom.showPhoto(F)}else{if(D.thumbnails.isFullScreen()){D.thumbnails.changeViewToBar();D.zoom.refreshSize()}}});D.zoom.$btnPrev.add(D.zoom.$container.find(".left")).on({click:function(){D.zoom.slideshowStop();D.zoom.showPrevPhoto()}});D.zoom.$btnNext.add(D.zoom.$container.find(".right")).on({click:function(){D.zoom.slideshowStop();D.zoom.showNextPhoto()}});D.zoom.$container.find(".jgallery-close").on({click:function(){D.hide()}});D.zoom.$random.on({click:function(){D.zoom.slideshowRandomToggle()}});D.zoom.$resize.on({click:function(){D.zoom.changeSize();D.zoom.slideshowPause()}});D.zoom.$changeMode.on({click:function(){D.zoom.changeMode()}});D.zoom.$slideshow.on({click:function(){D.zoom.slideshowPlayPause()}});D.zoom.$container.find(".minimalize-thumbnails").on({click:function(){D.thumbnails.toggle();D.zoom.refreshSize()}});D.thumbnails.bindEvents()},isSlider:function(){return b[this.intId].mode==="slider"},windowOnResize:function(D){D.data.jGallery.refreshDimensions()},refreshDimensions:function(){this.zoom.refreshSize();if(this.iconChangeAlbum instanceof m){this.iconChangeAlbum.refreshMenuHeight()}this.thumbnails.refreshNavigation()},getCanvasRatioWidthToHeight:function(){var E;var D;if(this.thumbnails.isHorizontal()){E=this.$element.width();D=this.$element.height()-this.thumbnails.getElement().outerHeight(true)}else{if(this.thumbnails.isVertical()){E=this.$element.width()-this.thumbnails.getElement().outerWidth(true);D=this.$element.height()}else{E=this.$element.width();D=this.$element.height()}}return E/D},setUserOptions:function(){this.refreshAttrClasses();b[this.intId].canZoom?this.zoom.$resize.show():this.zoom.$resize.hide();b[this.intId].canChangeMode?this.zoom.$changeMode.show():this.zoom.$changeMode.hide();b[this.intId].mode==="standard"?this.zoom.$changeMode.removeClass("fa-compress").addClass("fa-expand"):this.zoom.$changeMode.removeClass("fa-expand").addClass("fa-compress");b[this.intId].canClose?this.zoom.$container.find(".jgallery-close").show():this.zoom.$container.find(".jgallery-close").hide();if(!b[this.intId].thumbnails){this.thumbnails.getElement().addClass("inactive");b[this.intId].thumbnailsPosition=""}else{this.thumbnails.getElement().removeClass("inactive");if(b[this.intId].thumbnailsPosition===""){b[this.intId].thumbnailsPosition=k.thumbnailsPosition}}b[this.intId].slideshow?this.zoom.$slideshow.show():this.zoom.$slideshow.hide();b[this.intId].slideshow&&b[this.intId].slideshowCanRandom&&b[this.intId].slideshowAutostart?this.zoom.$random.show():this.zoom.$random.hide();b[this.intId].slideshow&&b[this.intId].slideshowCanRandom&&b[this.intId].slideshowRandom?this.zoom.$random.addClass("active"):this.zoom.$random.removeClass("active");b[this.intId].thumbnailsFullScreen&&b[this.intId].thumbnails?this.zoom.$container.find(".full-screen").show():this.zoom.$container.find(".full-screen").hide();b[this.intId].canMinimalizeThumbnails&&b[this.intId].thumbnails?this.zoom.$container.find(".minimalize-thumbnails").show():this.zoom.$container.find(".minimalize-thumbnails").hide();b[this.intId].hideThumbnailsOnInit&&b[this.intId].thumbnails?this.thumbnails.hide():this.thumbnails.show();b[this.intId].titleExpanded?this.zoom.$title.addClass("expanded"):this.zoom.$title.removeClass("expanded");this.setColours({strBg:b[this.intId].backgroundColor,strText:b[this.intId].textColor});if(b[this.intId].thumbWidth<b[this.intId].thumbHeight){this.thumbnails.getElement().addClass("thumb-vertical").removeClass("thumb-horizontal")}else{this.thumbnails.getElement().addClass("thumb-horizontal").removeClass("thumb-vertical")}if(b[this.intId].thumbWidthOnFullScreen<b[this.intId].thumbHeightOnFullScreen){this.thumbnails.getElement().addClass("thumb-on-full-screen-vertical").removeClass("thumb-on-full-screen-horizontal")}else{this.thumbnails.getElement().addClass("thumb-on-full-screen-horizontal").removeClass("thumb-on-full-screen-vertical")}b[this.intId].tooltips?this.$jgallery.addClass("jgallery-tooltips"):this.$jgallery.removeClass("jgallery-tooltips")},refreshAttrClasses:function(){var D=this;var E=["standard","full-screen","slider"];f.each(E,function(F,G){D.$jgallery.removeClass("jgallery-"+G)});this.$jgallery.addClass("jgallery-"+b[this.intId].mode)},setColours:function(D){l.find('style[data-jgallery-id="'+this.intId+'"].colours').html(this.getCssForColours(D))},generateHtml:function(){var E=b[this.intId];var H=E.mode;var G=H==="full-screen"?"auto":E.width;var D=H==="full-screen"?"auto":E.height;var F='                <div class="jgallery jgallery-'+H+'" style="width: '+G+"; height: "+D+'; display: none;" data-jgallery-id="'+this.intId+'">                    <div class="jgallery-thumbnails hidden">                        <div class="jgallery-container"><div class="jgallery-container-inner"></div></div>                        <span class="prev jgallery-btn hidden"><span class="fa fa-chevron-left ico"></span></span>                        <span class="next jgallery-btn hidden"><span class="fa fa-chevron-right ico"></span></span>                    </div>                    <div class="zoom-container">                        <div class="zoom before pt-perspective"></div>                        <div class="drag-nav hide"></div>                        <div class="left"></div>                        <div class="right"></div>                        <span class="fa fa-chevron-left prev jgallery-btn jgallery-btn-large"></span>                        <span class="fa fa-chevron-right next jgallery-btn jgallery-btn-large"></span>                        <span class="progress"></span>                        <div class="nav">                            <span class="fa resize jgallery-btn jgallery-btn-small" tooltip="'+E.tooltipZoom+'" tooltip-position="bottom right"></span>                            <span class="fa change-mode jgallery-btn jgallery-btn-small" tooltip="'+E.tooltipFullScreen+'" tooltip-position="bottom right"></span>                            <span class="fa fa-times jgallery-close jgallery-btn jgallery-btn-small" tooltip="'+E.tooltipClose+'" tooltip-position="bottom right"></span>                        </div>                        <div class="nav-bottom">                            <div class="icons">                                <span class="fa fa-play slideshow jgallery-btn jgallery-btn-small" tooltip="'+E.tooltipSlideshow+'"></span>                                <span class="fa fa-random random jgallery-btn jgallery-btn-small inactive" tooltip="'+E.tooltipRandom+'"></span>                                <span class="fa fa-th full-screen jgallery-btn jgallery-btn-small" tooltip="'+E.tooltipSeeAllPhotos+'"></span>                                <span class="fa fa-ellipsis-h minimalize-thumbnails jgallery-btn jgallery-btn-small inactive" tooltip="'+E.tooltipToggleThumbnails+'"></span>                            </div>                            <div class="title before"></div>                        </div>                    </div>                </div>';if(H==="full-screen"){this.$jgallery=this.$this.after(F).next()}else{if(E.autostart){this.$this.hide()}this.$jgallery=this.$this.after(F).next()}},getCssForColours:function(F){F=f.extend({strBg:"rgb( 0, 0, 0 )",strText:"rgb( 255, 255, 255 )"},F);var E;var G;var D;if(typeof tinycolor==="function"){E=tinycolor(F.strText).toRgb();G=tinycolor(F.strBg).toRgb();if(G.r+G.g+G.b>375){G=tinycolor.darken(F.strBg).toRgb();D=tinycolor(F.strBg).toRgb()}else{G=tinycolor(F.strBg).toRgb();D=tinycolor.lighten(F.strBg).toRgb()}}else{G={r:230,g:230,b:230};D={r:255,g:255,b:255};E={r:0,g:0,b:0}}return'                .jgallery[data-jgallery-id="'+this.intId+'"] {                  background: rgb('+G.r+","+G.g+", "+G.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] [tooltip]:after {                  background: rgba('+E.r+","+E.g+", "+E.b+", .9);                  color: rgb("+G.r+","+G.g+", "+G.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .jgallery-btn {                  color: rgb('+E.r+","+E.g+", "+E.b+");                  text-shadow: 0 0 1px rgb("+G.r+","+G.g+", "+G.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .jgallery-btn.active {                  color: rgb('+E.r+","+E.g+", "+E.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .jgallery-btn:hover {                  text-shadow: none;                  text-shadow: 0 0 .15em rgba('+E.r+","+E.g+", "+E.b+",.75), 0 0 .45em rgba("+E.r+","+E.g+", "+E.b+',.5);                }                .jgallery[data-jgallery-id="'+this.intId+'"] .change-album .menu {                  background: rgb('+D.r+","+D.g+", "+D.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .zoom-container .nav-bottom .change-album > .title {                  background: rgb('+D.r+","+D.g+", "+D.b+");                  box-shadow: 4px 0 4px rgb("+D.r+","+D.g+", "+D.b+')                }                .jgallery[data-jgallery-id="'+this.intId+'"] .full-screen .change-album .menu {                  background: rgb('+G.r+","+G.g+", "+G.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .change-album .menu .item {                  border-color: rgb('+G.r+","+G.g+", "+G.b+");                  color: rgb("+E.r+","+E.g+", "+E.b+");                  background: rgb("+D.r+","+D.g+", "+D.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .full-screen .change-album .menu .item {                  border-color: rgb('+D.r+","+D.g+", "+D.b+");                  background: rgb("+G.r+","+G.g+", "+G.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .change-album .menu .item.active,                .jgallery[data-jgallery-id="'+this.intId+'"] .change-album .menu .item:hover {                  background: rgb('+E.r+","+E.g+", "+E.b+");                  color: rgb("+G.r+","+G.g+", "+G.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .zoom-container:not([data-size="fill"]) .jgallery-container {                  background: rgb('+G.r+","+G.g+", "+G.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .zoom-container .nav-bottom {                  background: rgb('+D.r+","+D.g+", "+D.b+");                  -webkit-box-shadow: 0 -3px rgba("+D.r+","+D.g+", "+D.b+", .5);                  box-shadow: 0 -3px rgba("+D.r+","+D.g+", "+D.b+', .5);                }                .jgallery[data-jgallery-id="'+this.intId+'"] .zoom-container .nav-bottom .icons,                .jgallery[data-jgallery-id="'+this.intId+'"] .zoom-container .nav-bottom .icons .fa {                  background: rgb('+D.r+","+D.g+", "+D.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .zoom-container .nav-bottom > .title {                  color: rgb('+E.r+","+E.g+", "+E.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .zoom-container .nav-bottom > .title.expanded {                  background: rgba('+G.r+","+G.g+", "+G.b+',.7);                }                .jgallery[data-jgallery-id="'+this.intId+'"] .zoom-container .drag-nav {                  background: rgb('+D.r+","+D.g+", "+D.b+");                  -webkit-box-shadow: 0 0 0 3px rgba("+D.r+","+D.g+", "+D.b+", .5);                  box-shadow: 0 0 0 3px rgba("+D.r+","+D.g+", "+D.b+', .5);                }                .jgallery[data-jgallery-id="'+this.intId+'"] .zoom-container .drag-nav .crop {                  -webkit-box-shadow: 0 0 0 3px rgba('+E.r+","+E.g+", "+E.b+", .5);                  box-shadow: 0 0 0 3px rgba("+E.r+","+E.g+", "+E.b+', .5);                }                .jgallery[data-jgallery-id="'+this.intId+'"] .jgallery-thumbnails {                  background: rgb('+D.r+","+D.g+", "+D.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .jgallery-thumbnails .ico {                  color: rgb('+E.r+","+E.g+", "+E.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .jgallery-thumbnails .jgallery-container {                  -webkit-box-shadow: 0 0 0 3px rgba('+D.r+","+D.g+", "+D.b+", .5);                  box-shadow: 0 0 0 3px rgba("+D.r+","+D.g+", "+D.b+', .5);                }                .jgallery[data-jgallery-id="'+this.intId+'"] .jgallery-thumbnails.full-screen .prev:before {                  background-image: -webkit-gradient(linear,left 0%,left 100%,from(rgba( '+D.r+","+D.g+", "+D.b+", 1 )),to(rgba( "+D.r+","+D.g+", "+D.b+", 0)));                  background-image: -webkit-linear-gradient(top,rgba( "+D.r+","+D.g+", "+D.b+", 1 ),0%,rgba( "+D.r+","+D.g+", "+D.b+", 0),100%);                  background-image: -moz-linear-gradient(top,rgba( "+D.r+","+D.g+", "+D.b+", 1 ) 0%,rgba( "+D.r+","+D.g+", "+D.b+", 0) 100%);                  background-image: linear-gradient(to bottom,rgba( "+D.r+","+D.g+", "+D.b+", 1 ) 0%,rgba( "+D.r+","+D.g+", "+D.b+', 0) 100%);                  background-repeat: repeat-x;                }                .jgallery[data-jgallery-id="'+this.intId+'"] .jgallery-thumbnails.full-screen .next:before {                  background-image: -webkit-gradient(linear,left 0%,left 100%,from(rgba( '+D.r+","+D.g+", "+D.b+", 0)),to(rgba( "+D.r+","+D.g+", "+D.b+", 1)));                  background-image: -webkit-linear-gradient(top,rgba( "+D.r+","+D.g+", "+D.b+", 0),0%,rgba( "+D.r+","+D.g+", "+D.b+", 1),100%);                  background-image: -moz-linear-gradient(top,rgba( "+D.r+","+D.g+", "+D.b+", 0) 0%,rgba( "+D.r+","+D.g+", "+D.b+", 1) 100%);                  background-image: linear-gradient(to bottom,rgba( "+D.r+","+D.g+", "+D.b+", 0) 0%,rgba( "+D.r+","+D.g+", "+D.b+', 1) 100%);                  background-repeat: repeat-x;                }                .jgallery[data-jgallery-id="'+this.intId+'"] .jgallery-thumbnails.images a:after {                  background: rgb('+D.r+","+D.g+", "+D.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .jgallery-thumbnails.full-screen .prev,                .jgallery[data-jgallery-id="'+this.intId+'"] .jgallery-thumbnails.full-screen .next {                  background: rgb('+D.r+","+D.g+", "+D.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .jgallery-thumbnails.square:not(.full-screen) a {                  background: rgb('+E.r+","+E.g+", "+E.b+");                  color: rgb("+G.r+","+G.g+", "+G.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .overlayContainer .overlay {                  background: rgba('+G.r+","+G.g+", "+G.b+",.8);                  color: rgb("+E.r+","+E.g+", "+E.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .overlayContainer .imageLoaderPositionAbsolute:after {                  border-color: rgba('+E.r+","+E.g+", "+E.b+', .5 );                }                .jgallery[data-jgallery-id="'+this.intId+'"] .jgallery-thumbnails-horizontal .prev {                  background: rgb('+D.r+","+D.g+", "+D.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .jgallery-thumbnails-horizontal .prev:before {                  background-image: -webkit-gradient(linear,0% top,100% top,from(rgba( '+D.r+","+D.g+", "+D.b+", 1 )),to(rgba( "+D.r+","+D.g+", "+D.b+", 0 )));                  background-image: -webkit-linear-gradient(left,color-stop(rgba( "+D.r+","+D.g+", "+D.b+", 1 ) 0%),color-stop(rgba( "+D.r+","+D.g+", "+D.b+", 0 ) 100%));                  background-image: -moz-linear-gradient(left,rgba( "+D.r+","+D.g+", "+D.b+", 1 ) 0%,rgba( "+D.r+","+D.g+", "+D.b+", 0 ) 100%);                  background-image: linear-gradient(to right,rgba( "+D.r+","+D.g+", "+D.b+", 1 ) 0%,rgba( "+D.r+","+D.g+", "+D.b+', 0 ) 100%);                  background-repeat: repeat-x;                }                .jgallery[data-jgallery-id="'+this.intId+'"] .jgallery-thumbnails-horizontal .next {                  background: rgb('+D.r+","+D.g+", "+D.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .jgallery-thumbnails-horizontal .next:before {                  background-image: -webkit-gradient(linear,0% top,100% top,from(rgba( '+D.r+","+D.g+", "+D.b+", 0 )),to(rgba( "+D.r+","+D.g+", "+D.b+", 1 )));                  background-image: -webkit-linear-gradient(left,color-stop(rgba( "+D.r+","+D.g+", "+D.b+", 0 ) 0%),color-stop(rgba( "+D.r+","+D.g+", "+D.b+", 1 ) 100%));                  background-image: -moz-linear-gradient(left,rgba( "+D.r+","+D.g+", "+D.b+", 0 ) 0%,rgba( "+D.r+","+D.g+", "+D.b+", 1 ) 100%);                  background-image: linear-gradient(to right,rgba( "+D.r+","+D.g+", "+D.b+", 0 ) 0%,rgba( "+D.r+","+D.g+", "+D.b+', 1 ) 100%);                  background-repeat: repeat-x;                }                .jgallery[data-jgallery-id="'+this.intId+'"] .jgallery-thumbnails-vertical .prev {                  background: rgb('+D.r+","+D.g+", "+D.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .jgallery-thumbnails-vertical .prev:before {                  background-image: -webkit-gradient(linear,left 0%,left 100%,from(rgba( '+D.r+","+D.g+", "+D.b+", 1 )),to(rgba( "+D.r+","+D.g+", "+D.b+", 0 )));                  background-image: -webkit-linear-gradient(top,rgba( "+D.r+","+D.g+", "+D.b+", 1 ),0%,rgba( "+D.r+","+D.g+", "+D.b+", 0 ),100%);                  background-image: -moz-linear-gradient(top,rgba( "+D.r+","+D.g+", "+D.b+", 1 ) 0%,rgba( "+D.r+","+D.g+", "+D.b+", 0 ) 100%);                  background-image: linear-gradient(to bottom,rgba( "+D.r+","+D.g+", "+D.b+", 1 ) 0%,rgba( "+D.r+","+D.g+", "+D.b+', 0 ) 100%);                  background-repeat: repeat-x;                }                .jgallery[data-jgallery-id="'+this.intId+'"] .jgallery-thumbnails-vertical .next {                  background: rgb('+D.r+","+D.g+", "+D.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .jgallery-thumbnails-vertical .next:before {                  background-image: -webkit-gradient(linear,left 0%,left 100%,from(rgba( '+D.r+","+D.g+", "+D.b+", 0 )),to(rgba( "+D.r+","+D.g+", "+D.b+", 1 )));                  background-image: -webkit-linear-gradient(top,rgba( "+D.r+","+D.g+", "+D.b+", 0 ),0%,rgba( "+D.r+","+D.g+", "+D.b+", 1 ),100%);                  background-image: -moz-linear-gradient(top,rgba( "+D.r+","+D.g+", "+D.b+", 0 ) 0%,rgba( "+D.r+","+D.g+", "+D.b+", 1 ) 100%);                  background-image: linear-gradient(to bottom,rgba( "+D.r+","+D.g+", "+D.b+", 0 ) 0%,rgba( "+D.r+","+D.g+", "+D.b+', 1 ) 100%);                  background-repeat: repeat-x;                }                .jgallery.has-title.jgallery-slider[data-jgallery-id="'+this.intId+'"] .zoom-container .nav-bottom,                .jgallery.has-title.jgallery-slider[data-jgallery-id="'+this.intId+'"] .zoom-container .nav-bottom > .title.expanded {                  background: rgba('+G.r+","+G.g+", "+G.b+",.7);                  color: rgb("+E.r+","+E.g+", "+E.b+');                }                .jgallery.jgallery-slider[data-jgallery-id="'+this.intId+'"] .zoom-container .nav-bottom .jgallery-btn {                  background: rgba('+G.r+","+G.g+", "+G.b+",.8);                  color: rgb("+E.r+","+E.g+", "+E.b+");                }            "}};f.fn.jGallery=function(E){var D=this;this.each(function(){var F=f(this);f(function(){var G=typeof E!=="undefined"&&typeof E.mode!=="undefined";var H=k;if(F.is("[data-jgallery-id]")){H=b[F.attr("data-jgallery-id")]}if(G&&E.mode==="full-screen"){H=f.extend({},H,t,E,w)}else{if(G&&E.mode==="slider"){H=f.extend({},H,B,E,a)}else{H=f.extend({},H,E)}}if(!F.is("[data-jgallery-id]")){b[++c]=H;z[c]=new n(F)}else{if(f.isPlainObject(E)){z[F.attr("data-jgallery-id")].update(H);b[F.attr("data-jgallery-id")]=H}}})});f(function(){f.extend(D,{getDefaults:function(){return k},restoreDefaults:function(){return D.each(function(){f(this).jGallery(k)})},getOptions:function(){return b[f(D).attr("data-jgallery-id")]},destroy:function(){return D.each(function(){var F=f(this);var G=F.attr("data-jgallery-id");z[G]="";b[G]="";F.removeAttr("data-jgallery-id").show();r.find('.jgallery[data-jgallery-id="'+G+'"]').remove();A()})}})});return this};f.jGalleryOptions=function(){return b};f.jGalleryTransitions=function(){return x};var s=0;var d=function(D){if(D.is("[data-advanced-animation-id]")){return}this.cols=1;this.rows=1;this.direction="forward";this.animation=true;this.$element=D;this.$element.filter(":not( [data-advanced-animation-id] )").attr("data-advanced-animation-id",++s);this.$element.find(".pt-item").wrap('<div class="pt-page" />');this.$element.wrapInner('<div class="pt-part" />');this.generateHtml();this._showParts(this.$element.find(".pt-part"),1)};d.prototype={next:function(){var D=this.$element.find(".pt-part").eq(this.direction==="backward"?-1:0).find(".pt-page-current:not(.pt-page-prev)").next();if(D.length){this.show(D)}else{this.show(this.$element.find(".pt-part").eq(this.direction==="backward"?-1:0).find(".pt-page").eq(0))}},show:function(E,D){var F=E.prevAll().length+1;if(E.is(".pt-page-current:not(.pt-page-prev)")){return}D=f.extend({},{animation:true},D);this.animation=D.animation;this._waveJumpToEnd();if(this.animation){this._runWave(F)}else{this._showParts(this.$element.find(".pt-part"),F)}this.intPrevPtPageNumber=F},setQuantityParts:function(E,D){this.cols=E;this.rows=D;this.generateHtml()},setAnimationProperties:function(F){var E=this.$element.attr("data-advanced-animation-id");var D=l.find('style[data-advanced-animation-id="'+E+'"]');this.duration=F.duration;if(v()){return}if(D.length===0){D=l.append('<style type="text/css" data-advanced-animation-id="'+E+'" />').children(":last-child")}D.html('                [data-advanced-animation-id="'+E+'"] .pt-page {                    -webkit-animation-duration: '+F.duration+";                    -moz-animation-duration: "+F.duration+";                    animation-duration: "+F.duration+";                    -webkit-animation-timing-function: "+F.transitionTimingFunction+";                    -moz-animation-timing-function: "+F.transitionTimingFunction+";                    animation-timing-function: "+F.transitionTimingFunction+";                }            ")},setHideEffect:function(D){this.prevHideEffect=this.hideEffect;this.hideEffect=D;if(/moveTo|rotateRoom|rotateCarousel|rotateSlideOut/.test(D)){this.$element.find(".pt-part").addClass("hide-overflow")}else{this.$element.find(".pt-part").removeClass("hide-overflow")}},setShowEffect:function(D){this.prevShowEffect=this.showEffect;this.showEffect=D},setDirection:function(D){this.direction=D},_runWave:function(D){this.$element.find(".pt-part").addClass("in-queue");this._showNextPart(D)},_waveJumpToEnd:function(){clearTimeout(this.showPartsTimeout);if(typeof this.intPrevPtPageNumber!=="undefined"){this._showParts(this.$element.find(".pt-part.in-queue").removeClass("in-queue"),this.intPrevPtPageNumber)}},_showNextPart:function(E){var D=this;var F=this.$element.find(".pt-part.in-queue").eq(this.direction==="backward"?-1:0);if(F.length===0){return}this._showParts(F.removeClass("in-queue"),E);if(F.length===0){return}clearTimeout(this.showPartsTimeout);this.showPartsTimeout=setTimeout(function(){D._showNextPart(E)},parseFloat(this.duration)*1000*0.25/Math.max(1,this.$element.find(".pt-part").length-1))},_showParts:function(E,D){E.find(".pt-page-current.pt-page-prev").removeClass("pt-page-prev").removeClass("pt-page-current");E.find(".pt-page-current").addClass("pt-page-prev");E.find(".pt-page:nth-child("+D+")").addClass("pt-page-current");E.find(".pt-page").removeClass(this.hideEffect).removeClass(this.showEffect);if(typeof this.prevHideEffect!=="undefined"){E.find(".pt-page").removeClass(this.prevHideEffect)}if(typeof this.prevShowEffect!=="undefined"){E.find(".pt-page").removeClass(this.prevShowEffect)}if(this.animation){E.find(".pt-page-prev").addClass(this.hideEffect);E.find(".pt-page-current:not(.pt-page-prev)").addClass(this.showEffect)}},hideActive:function(){this.$element.find(".pt-page-current").addClass("pt-page-prev").addClass(this.hideEffect)},generateHtml:function(){var F;var E;var D;this.$element.html(this.$element.find(".pt-part").eq(0).html());D=this.$element.html();this.$element.children(".pt-part").remove();for(E=0;E<this.rows;E++){for(F=0;F<this.cols;F++){this.$element.append('<div class="pt-part pt-perspective" data-col-no="'+F+'" data-row-no="'+E+'" style="position: absolute;"></div>').children(":last-child").html(D).find(".pt-item")}}this.setPositionParts();this.$element.children(":not(.pt-part)").remove()},setPositionParts:function(){var E=this;var G=this.$element.outerWidth();var F=this.$element.outerHeight();var H=G/this.cols;var D=F/this.rows;this.$element.find(".pt-part").each(function(){var K=f(this);var J=K.attr("data-col-no");var I=K.attr("data-row-no");K.css({left:E.$element.outerWidth()*(100/E.cols*J)/100+"px",top:E.$element.outerHeight()*(100/E.rows*I)/100+"px",width:E.$element.outerWidth()*(100/E.cols)/100+1+"px",height:E.$element.outerHeight()*(100/E.rows)/100+1+"px"}).find(".pt-item").css({width:G,height:F,left:-H*J,top:-D*I})})}};f.fn.overlay=function(D){var E={show:false,hide:false,showLoader:false,hideLoader:false,fadeIn:true,fadeOut:true,fadeInLoader:true,fadeOutLoader:true,afterInit:function(){}};D=f.extend({},E,D);this.each(function(){var M=f(this),N,L,K=M.is(".overlayContainer:has(.overlay)"),J=function(){var R=Math.max(M.offset().top,f("body, html").scrollTop()),Q=Math.min(M.offset().top+M.outerHeight(),f("body, html").scrollTop()+f(window).height()),P=R+(Q-R)/2-M.offset().top;L.css({top:P+"px"})},H=function(){M.children(".overlay").css({width:M.outerWidth(),height:M.is("body")?r.outerHeight():M.outerHeight()})},I=function(){D.fadeIn?N.fadeIn(500):N.show()},G=function(){D.fadeOut?N.fadeOut(500):N.hide()},O=function(){D.fadeInLoader?L.not(":visible").fadeIn(500):L.not(":visible").show()},F=function(){D.fadeOutLoader?L.filter(":visible").fadeOut(500):L.filter(":visible").hide()};f(window).scroll(function(){J()});f(window).resize(function(){J();H()});if(M.is("table")){if(M.parent().is(".overlayContainer")){M=M.parent()}}if(!K){if(M.is("table")){M.wrap("<div></div>");M=M.parent()}M.addClass("overlayContainer");M.append('<div class="overlay" style="display: none;"><div class="imageLoaderPositionAbsolute" style="display: none;"></div></div>');D.afterInit()}N=M.children(".overlay");L=M.find(".imageLoaderPositionAbsolute");N.stop(false,true);L.stop(false,true);if(D.show){I()}else{if(D.hide){G()}}if(D.showLoader){O()}else{if(D.hideLoader){F()}}J();H()})};f.fn.jLoader=function(D){D=f.extend({interval:1000,skip:":not(*)",start:function(){f("body").overlay({fadeIn:false,fadeOut:false,show:true,showLoader:true});f("body").show()},success:function(){f("body").overlay({hide:true})},progress:function(){}},D);this.each(function(){var J=f(this);var H=f();var F=f();var I;var G=0;function E(){var L=true;var N=0;var K=0;var M;F.each(function(){N++;if(f(this)[0].complete){K++}else{L=false}if(N===G){M=parseInt(K*100/G);D.progress({percent:M});if(L){clearTimeout(I);H.remove();D.success()}else{I=setTimeout(E,D.interval)}}})}J.append('<div class="jLoaderTmp" style="position: absolute; width: 0; height: 0; line-height: 0; font-size: 0; visibility: hidden; overflow: hidden; z-index: -1;"></div>');H=J.children(".jLoaderTmp:last-child");f(J).add(J.find("*")).not(D.skip).each(function(){var K;if(f(this).css("background-image")!=="none"){K=f(this).css("background-image");if(/url/.exec(K)){K=K.replace('"',"").replace("'","").replace(" ","").replace("url(","").replace(")","");H.append('<img src="'+K+'">')}}});F=J.find("img:not( "+D.skip+")");if(J.is("img")){if(!J.is(D.skip)){F=F.add(J)}}G=parseInt(F.length);D.start();E()})};f.fn.outerHtml=function(){return(!this.length)?this:(this[0].outerHTML||(function(D){var F=document.createElement("div");F.appendChild(D.cloneNode(true));var E=F.innerHTML;F=null;return E})(this[0]))};function A(){r.find(".jgallery").length===0?r.removeClass("has-jgallery"):r.addClass("has-jgallery");r.find(".jgallery.hidden").length===0?r.removeClass("has-hidden-jgallery"):r.addClass("has-hidden-jgallery");r.find(".jgallery:not(.hidden)").length===0?r.removeClass("has-visible-jgallery"):r.addClass("has-visible-jgallery")}function u(D){D=f.extend({},{stateObj:{},title:p.html(),path:""},D);window.history.pushState(D.stateObj,D.title,document.location.href.split("#")[0]+"#"+D.path)}function i(){var F=false;if(navigator.appName==="Microsoft Internet Explorer"){var D=navigator.userAgent;var E=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");if(E.exec(D)!==null){F=true}}return F}function v(){var F=false;if(navigator.appName==="Microsoft Internet Explorer"){var D=navigator.userAgent;var E=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");if(E.exec(D)!==null){F=parseFloat(RegExp.$1);F=F<9}}return F}})(jQuery);